% function [masks] = NFoldValidationMask(count, N)
%     testSize = floor(count/N)
%     r = randperm(1:count);
%     masks = repmat( struct('test', zeros(count), 'train', zeros(count - testSize)), 1, N);
% 
%     for i=1:N
%         masks(i).test = r([zeros((i-1) * testSize, 1); ones(testSize, 1)]);
%         masks(i).train = r(logical([ones((i-1) * testSize, 1); zeros(testSize, 1), ones(count-(i*testSize), 1)]));
%     end
% end





function [Items] = createTestData(count, N)

shuffledArray = examples(randperm(size(examples,1)),:);

%get size

noRows = size(shuffledArray,1);
noRowsEachUnit = floor(noRows / N);

% a representative element of the final matrix
element = struct('testData',zeros(noRows,1),'trainData',zeros((noRows- noRowsEachUnit), 1));

% initialize final matrix 
Items = repmat(element, 1, N); 

for i=1:N
    %get test data
    testMask = logical( [zeros( (i-1)*noRowsEachUnit, 1); ones(noRowsEachUnit, 1)] );
    Items(i).testData = shuffledArray(testMask);
    
    %get training data
    remainingRows = noRows - (i * noRowsEachUnit);
    trainingMask = logical( [ones((i-1)*noRowsEachUnit, 1); zeros(noRowsEachUnit, 1); ones(remainingRows, 1)] );
    Items(i).trainData = shuffledArray(trainingMask);
end


     
